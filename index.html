<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-8253421262019645">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8253421262019645"
     crossorigin="anonymous"></script>
    <link rel="shortcut icon" href="https://cdn-icons-png.flaticon.com/512/188/188802.png">
    <title>Juliu´s Tarô Cigano</title>
    <meta name="description" content="Juliu´s Tarô Cigano e descubra as mensagens e significados ocultos por trás de cada carta.">
    <meta name="keywords" content="tarô cigano, sorteio de cartas, cartomancia, esoterismo, significado das cartas">
    <meta name="author" content="Julio Campos Machado (@radiotatuapefm)">
    <style>
        body {
            background-color: black; /* Fundo preto */
            color: white; /* Cor do texto */
            text-align: center; /* Centraliza o conteúdo */
        }
        .container {
            display: flex;
            justify-content: space-around;
            margin-top: 50px;
        }
        .pile {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            width: 300px;
            height: 479px;
        }
        .card, .cover {
            width: 300px;
            height: 479px;
            margin: 0px;
            position: absolute;
            transition: transform 0.3s ease;
        }
        .cover {
            z-index: 1; /* Ensure cover is on top */
        }
        .button-container {
            margin: 40px 0;
        }
        .button-container button {
            background-color: #17c4f0; /* Verde */
            border: none;
            color: white;
            padding: 10px 10px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 20px;
  margin: 4px 2px;
  cursor: pointer;
  border-radius: 5px;Espaçamento entre botões */
        }
    </style>
</head>
<body>


<div class="container">
    <div class="pile" id="pile1">
        <img class="cover" src="capa.gif" alt="Capa">
    </div>
    <div class="pile" id="pile2">
        <img class="cover" src="capa.gif" alt="Capa">
    </div>
    <div class="pile" id="pile3">
        <img class="cover" src="capa.gif" alt="Capa">
    </div>
</div>

<div class="button-container">
    <button id="sortearBtn">Sortear Cartas</button>
    <button onclick="shuffleCards()">Embaralhar</button>
</div>

<!-- Incluindo GSAP via CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
<script>
    const cardFiles = [
        "ALIANÇA.jpg", "ÂNCORA.jpg", "ÁRVORE.jpg", "BUQUÊ.jpg",
        "CACHORRO.jpg", "CAIXÃO.jpg", "CAMINHOS.jpg", "CARTA.jpg",
        "CASA.jpg", "CAVALEIRO.jpg", "CEGONHA.jpg", "CHAVE.jpg",
        "CHICOTE.jpg", "CIGANA.jpg", "CIGANO.jpg", "COBRA.jpg",
        "CORAÇÃO.jpg", "CRIANÇA.jpg", "CRUZ.jpg", "ESTRELAS.jpg",
        "FOICE.jpg", "JARDIM.jpg", "LÍRIOS.jpg", "LIVROS.jpg",
        "LUA.jpg", "MONTANHA.jpg", "NAVIO.jpg", "NUVENS.jpg",
        "PÁSSAROS.jpg", "PEIXES.jpg", "RAPOSA.jpg", "RATOS.jpg",
        "SOL.jpg", "TORRE.jpg", "TREVO.jpg", "URSO.jpg"
    ];

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function initializeCards() {
        const piles = [document.getElementById('pile1'), document.getElementById('pile2'), document.getElementById('pile3')];

        piles.forEach(pile => {
            pile.innerHTML = "";
            const cover = document.createElement('img');
            cover.className = 'cover';
            cover.src = "capa.gif";
            pile.appendChild(cover);
        });

        const shuffledCards = shuffle(cardFiles);
        shuffledCards.forEach((cardFile, index) => {
            const pileIndex = index % piles.length;
            const cardElement = document.createElement('img');
            cardElement.className = 'card';
            cardElement.src = `img/cartas/${cardFile}`;
            piles[pileIndex].appendChild(cardElement);
        });
    }

    initializeCards();

    function shuffleCards() {
        const piles = [document.getElementById('pile1'), document.getElementById('pile2'), document.getElementById('pile3')];

        // Remove a capa antes de embaralhar
        piles.forEach(pile => {
            const cover = pile.querySelector('.cover');
            gsap.to(cover, {
                duration: 0.5,
                opacity: 0,
                onComplete: () => {
                    cover.style.display = 'none'; // Esconde a capa
                }
            });
        });

        const cardsInPile1 = Array.from(piles[0].children).slice(1); // Ignorar a capa
        const cardsInPile3 = Array.from(piles[2].children).slice(1); // Ignorar a capa

        // Movendo cartas de pile1 para pile3
        cardsInPile1.forEach((card, index) => {
            setTimeout(() => {
                gsap.to(card, {
                    duration: 0.5,
                    x: piles[2].getBoundingClientRect().left - piles[0].getBoundingClientRect().left,
                    y: index * 20,
                    onComplete: () => {
                        piles[2].appendChild(card);
                        card.style.transform = 'none';
                    }
                });
            }, index * 100);
        });

        // Movendo cartas de pile3 para pile2
        cardsInPile3.forEach((card, index) => {
            setTimeout(() => {
                gsap.to(card, {
                    duration: 0.5,
                    x: piles[1].getBoundingClientRect().left - piles[2].getBoundingClientRect().left,
                    y: index * 20,
                    onComplete: () => {
                        piles[1].appendChild(card);
                        card.style.transform = 'none';
                    }
                });
            }, index * 100);
        });

        // Reinitialize cards after animation
        setTimeout(initializeCards, Math.max(cardsInPile1.length, cardsInPile3.length) * 100 + 500);
    }

    document.getElementById('sortearBtn').addEventListener('click', function() {
        window.location.href = 'mesa.html';
    });
</script>
<script src="js/app.js"></script>

</body>
</html>
